<mvc:View controllerName="pecogaapordenescompras.controller.Main"
    xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:form="sap.ui.layout.form" xmlns:f="sap.ui.layout.form" xmlns:layout="sap.ui.layout">
    <SplitApp id="SplitApp">
        <masterPages>
            <Page id="page" title="{i18n>MASTER_TITLE} 
                {= ${'/WorkflowTaskCollection'}.length}">
                <content>
                    <List id="list" mode="MultiSelect"
                        includeItemInSelection="false"
                        selectionChange="fireSelectionChange"
                        items="{
                            path: '/WorkflowTaskCollection',
                            parameters: {
                                $skip: '0',
                                $top: '1000000',
                                $inlinecount: 'allpages'
                            }
                        }">
                        <ObjectListItem id="MAIN_LIST_ITEM"
                                        type="Active"
                                        press="_handleItemPress"
                                        title="{PoNumber} {SupplierName}"
                                        number="{Value}"
                                        numberUnit="{Currency}">
                            <firstStatus>
                                <ObjectStatus id="ListStatusWiCreatedAt"
                                            text="{WiCreatedAt}"/>
                            </firstStatus>
                            <attributes>
                                <ObjectAttribute id="ListAttributeItemDescription" text="{ItemDescriptions}"/>
                                <ObjectAttribute id="ListAttributeCreatedByName" text="{CreatedByName}"/>
                                <ObjectAttribute id="ListAttributeForwardedByName"
                                                text="{ForwardedByName}"
                                                />
                                <ObjectAttribute id="ListAttributeSubstitutingForName"
                                                text="{SubstitutingForName}"
                                                />
                                <ObjectAttribute id="idObjectAttribute" text=""/>
                                <ObjectAttribute id="idObjectAttribute2" text="{texto2}"/>
                                <ObjectAttribute id="idObjectAttribute3" text="{texto3}"/>
                                <ObjectAttribute id="idObjectAttribute4" text=""/>
                            </attributes>
                            <!-- @ExtensionPoint extListItemInfo: document list (S2 view) -->
                            <core:ExtensionPoint name="extListItemInfo"/>
                        </ObjectListItem>
                    </List>

                </content>
                <footer>
                    <Bar id="footer"></Bar>
                </footer>
            </Page>
        </masterPages>
        <detailPages>
            <Page id="WIDetail" class="sapUiFioriObjectPage" title="{i18n>view.PurchaseOrder.title}">
                <ObjectHeader id="Header" introPress="onAgentPress" introActive="true" title="{SupplierName}" titlePress="onVendorPress" titleActive="true"
                    number="{Value}" numberUnit="{Currency}">
                    <statuses>
                        <ObjectStatus id="ObjectHeaderStatusWiCreatedAt" text="{WiCreatedAt}"></ObjectStatus>
                    </statuses>
                    <attributes>
                        <ObjectAttribute id="ObjectHeaderAttributeCreatedByName" text="{CreatedByName}" press="onNamePress" active="true"></ObjectAttribute>
                        <ObjectAttribute id="ObjectHeaderAttributeForwardedBy" text="{ForwardedByName}" press="onForwardedPress" active="true"></ObjectAttribute>
                        <ObjectAttribute id="ObjectHeaderAttributeSubstitutedBy" text="{SubstitutingForName}" press="onSubstitutingPress" active="true"></ObjectAttribute>
                    </attributes>
                    <core:ExtensionPoint name="extHeaderInfo"/>
                </ObjectHeader>

                <IconTabBar id="tabBar" select="handleTabSelect">
                    <items>
                        <IconTabFilter id="IconTabBarFilterPOInformation" icon="sap-icon://hint" iconColor="Default" key="contentInfo">
                            <content>
                                <form:Form id="InfoForm" class="detailInfoForm">
                                    <form:layout>
                                        <form:ResponsiveGridLayout columnsXL="2" columnsL="1" columnsM="1" singleContainerFullSize="false" />
                                    </form:layout>
                                    <form:formContainers>
                                        <form:FormContainer>
                                            <form:formElements>
                                                <form:FormElement id="POInformationPOLabel">
                                                    <form:label>
                                                        <Label text="{i18n>view.PurchaseOrder.purchaseOrderLabel}"></Label>
                                                    </form:label>
                                                    <form:fields>
                                                        <Text text="{PoNumber}"></Text>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement id="POInformationAccountAssignment">
                                                    <form:label>
                                                        <Label text="{i18n>view.PurchaseOrder.accountAssignment}"></Label>
                                                    </form:label>
                                                    <form:fields>
                                                        <Text text="{HeaderInfo}"></Text>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement id="POInformationDeliveryDate" visible="{= ${DeliveryDate} ? true : false}">
                                                    <form:label>
                                                        <Label text="{i18n>view.PurchaseOrder.deliveryDateLabel}"></Label>
                                                    </form:label>
                                                    <form:fields>
                                                        <Text text="{DeliveryDate}"></Text>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement id="POInformationPlant" visible="{= ${PlantName} ? true : false}">
                                                    <form:label>
                                                        <Label text="{i18n>view.PurchaseOrder.plantLabel}"></Label>
                                                    </form:label>
                                                    <form:fields>
                                                        <Text text="{PlantName}"></Text>
                                                    </form:fields>
                                                </form:FormElement>
                                            </form:formElements>
                                        </form:FormContainer>
                                    </form:formContainers>
                                </form:Form>
                            </content>
                        </IconTabFilter>
                    </items>
                </IconTabBar>

                <Table id="itemsTable" items="{ItemDetails}" noDataText="{i18n>view.PurchaseOrder.placeholder}">
                    <columns>
                        <Column>
                            <Label text="{i18n>view.PurchaseOrder.descriptionLabel}"></Label>
                        </Column>
                        <Column>
                            <Label text="{i18n>view.PurchaseOrder.quantity}"></Label>
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem type="Navigation" press="navToItemDetails">
                            <cells>
                                <ObjectIdentifier title="{Description}"></ObjectIdentifier>
                                <ObjectNumber number="{Quantity}" unit="{UnitDescription}"></ObjectNumber>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>

                <footer>
                    <Bar id="detailFooter"></Bar>
                </footer>
            </Page>

        </detailPages>
    </SplitApp>
</mvc:View>